<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surr - Music Streaming by Naveen KUmar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" 
      href="data:image/svg+xml,
      <svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22> <text y=%22.9em%22 font-size=%2290%22>ðŸŽ§ </text></svg>"
      type="image/svg+xml">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="logo">
                <i class="fa-solid fa-compact-disc"></i>
                <span>Surr By NK</span>
            </div>
            <div class="search-bar">
                <i class="fa-solid fa-search"></i>
                <input type="text" id="searchQuery" placeholder="Search songs, artists, or albums..." onkeyup="searchSongs(event)">
            </div>
            <div class="user-controls">
                <button class="theme-toggle" onclick="toggleTheme()">
                    <i id="theme-icon" class="fa-solid fa-sun"></i>
                </button>
                <div class="profile-icon">
                    <i class="fa-solid fa-user"></i>
                </div>
            </div>
        </header>

        <aside class="sidebar">
            <div class="nav-section">
                <h3>Navigation</h3>
                <div class="nav-item active" data-view="home">
                    <i class="fa-solid fa-house"></i>
                    <span>Home</span>
                </div>
                
                <div class="nav-item" data-view="upload">
                    <i class="fa-solid fa-cloud-arrow-up"></i>
                    <span>Upload</span>
                </div>
                <div class="nav-item" data-view="playlists">
                    <i class="fa-solid fa-list-music"></i>
                    <span>Playlists</span>
                </div>
                 <div class="nav-item" data-view="nowPlaying">
                    <i class="fa-solid fa-waveform"></i>
                    <span>Now Playing</span>
                </div>
            </div>

            <div class="nav-section">
                <h3>Your Playlists</h3>
                <div id="playlistListSidebar" class="playlist-list">
                </div>
                <div class="nav-item" onclick="openModal('createPlaylistModal')">
                    <i class="fa-solid fa-plus"></i>
                    <span>Create New</span>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div id="homeView" class="view active-view">
                <div class="section-title">
                    <h2>Recent Uploads</h2>
                    <div class="view-all">All Songs <i class="fa-solid fa-chevron-right"></i></div>
                </div>
                <div id="songsGrid" class="cards-grid">
                </div>

                <div id="searchResultsSection" style="display:none;">
                    <div class="section-title">
                        <h2>Search Results</h2>
                    </div>
                    <div id="searchResultsGrid" class="cards-grid">
                    </div>
                </div>
            </div>

            
            <div id="uploadView" class="view">
                <div class="upload-section">
                    <div class="upload-header">
                        <i class="fa-solid fa-cloud-arrow-up"></i>
                        <h2>Upload New Music</h2>
                    </div>
                    <div class="upload-area" onclick="document.getElementById('songInput').click()">
                        <i class="fa-solid fa-file-audio"></i>
                        <p>Drag & drop your music files (MP3, FLAC) here, or click to select.</p>
                        <p class="file-name-display" id="fileNameDisplay">No file selected.</p>
                        <input type="file" id="songInput" accept="audio/mpeg,audio/flac" style="display: none;" onchange="updateFileName()">
                    </div>

                    <button id="uploadButton" onclick="uploadSong()" class="upload-button">
                        <i class="fa-solid fa-upload"></i> Upload
                    </button>
                    <p class="status-message" id="uploadStatus"></p>
                </div>
            </div>

            <div id="playlistsView" class="view">
                <div class="section-title">
                    <h2>All Playlists</h2>
                    <button class="upload-button" onclick="openModal('createPlaylistModal')">
                        <i class="fa-solid fa-plus"></i> New Playlist
                    </button>
                </div>
                <div id="playlistsGrid" class="cards-grid">
                </div>
                <div id="playlistSongsSection" style="display:none;">
                    <div class="section-title">
                        <h2 id="playlistSongsTitle">Playlist Name</h2>
                    </div>
                    <div id="playlistSongsGrid" class="cards-grid">
                    </div>
                </div>
            </div>

            <div id="nowPlayingView" class="view now-playing-view">
            </div>
        </main>

        <footer class="player">
            <div class="song-info">
                <img id="playerAlbumArt" class="song-image" src="https://via.placeholder.com/56" alt="Album Art">
                <div class="song-details">
                    <div class="song-title" id="playerTitle">Not Playing</div>
                    <div class="song-artist" id="playerArtist">-</div>
                </div>
            </div>

            <div class="player-controls">
                <div class="control-buttons">
                    <button class="control-button" onclick="toggleShuffle()"><i class="fa-solid fa-shuffle"></i></button>
                    <button class="control-button" onclick="playerSkipBack()"><i class="fa-solid fa-backward-step"></i></button>
                    <button id="playPauseButton" class="control-button play-pause" onclick="togglePlayPause()">
                        <i class="fa-solid fa-play"></i>
                    </button>
                    <button class="control-button" onclick="playerSkipNext()"><i class="fa-solid fa-forward-step"></i></button>
                    <button class="control-button" onclick="toggleRepeat()"><i class="fa-solid fa-repeat"></i></button>
                </div>
                <div class="progress-bar-container">
                    <span class="time-current" id="currentTimeDisplay">0:00</span>
                    <div class="progress-bar" id="progressBar" onclick="seek(event)">
                        <div class="progress" id="progressIndicator"></div>
                    </div>
                    <span class="time-duration" id="durationDisplay">0:00</span>
                </div>
            </div>

            <div class="volume-controls">
                <button class="control-button" onclick="toggleMute()"><i id="volumeIcon" class="fa-solid fa-volume-high"></i></button>
                <div class="volume-bar" id="volumeBar" onclick="setVolume(event)">
                    <div class="volume-level" id="volumeIndicator"></div>
                </div>
                <audio id="audioPlayer" preload="auto"></audio>
            </div>
        </footer>
    </div>

    <div id="createPlaylistModal" class="modal" onclick="closeModalOnOutsideClick(event, 'createPlaylistModal')">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Playlist</h2>
                <button class="close-modal" onclick="closeModal('createPlaylistModal')">&times;</button>
            </div>
            <div class="modal-body">
                <label for="newPlaylistName">Playlist Name:</label>
                <input type="text" id="newPlaylistName" placeholder="My Awesome Jams">
                <p class="status-message" id="playlistStatus"></p>
                <button class="upload-button" onclick="createPlaylist()">Create</button>
            </div>
        </div>
    </div>

    <div id="addToPlaylistModal" class="modal" onclick="closeModalOnOutsideClick(event, 'addToPlaylistModal')">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add to Playlist</h2>
                <button class="close-modal" onclick="closeModal('addToPlaylistModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>Select a playlist to add <span id="songToAddTitle" style="font-weight: bold;"></span> to:</p>
                <div id="addToPlaylistOptions">
                </div>
                <p class="status-message" id="addPlaylistStatus"></p>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="script.js"></script>
</body>
</html>